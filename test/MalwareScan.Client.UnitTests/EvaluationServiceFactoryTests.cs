using System;
using System.Net.Http;
using FluentAssertions;
using Microsoft.VisualStudio.TestTools.UnitTesting;

namespace MalwareScan.Client.UnitTests
{
	[TestClass]
	public class EvaluationServiceFactoryTests
	{
		[TestMethod]
		public void CreateEvaluationService_Throws_ArgumentNullException_Given_NullUrl()
		{
			#region Arrange

			var httpClient = new HttpClient();

			#endregion

			#region Act

			Action act = () => EvaluationServiceFactory.CreateEvaluationService(null, httpClient);

			#endregion

			#region Assert

			act.Should().ThrowExactly<ArgumentNullException>("a non-null value is required for the evaluation service URL");

			#endregion
		}

		[TestMethod]
		public void CreateEvaluationService_Throws_ArgumentNullException_Given_NullHttpClient()
		{
			#region Arrange

			string url = "http://localhost/";

			#endregion

			#region Act

			Action act = () => EvaluationServiceFactory.CreateEvaluationService(url, null);

			#endregion

			#region Assert

			act.Should().ThrowExactly<ArgumentNullException>("a non-null value is required for the HTTP client for the evaluation service");

			#endregion
		}
	}
}
